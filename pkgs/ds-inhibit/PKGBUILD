# Maintainer: Antonio Teixeira <antoniolrt at gmail dot com>

pkgname=ds-inhibit
_srctag=0.1.1
pkgver=${_srctag}
pkgrel=3
pkgdesc="DualShock 4/DualSense mouse inhibitor"
url="https://gitlab.com/evlaV/ds-inhibit"
arch=('any')
license=('BSD')
source=("$pkgname::git+https://gitlab.com/evlaV/ds-inhibit.git#tag=v${_srctag}"
        "10-modprobe-ds.conf"
)
sha256sums=('SKIP'
            'SKIP')
depends=('udev' 'python' 'python-pyinotify')
makedepends=('git' 'openssh')

package() {
	cd "$pkgname"
	make install DESTDIR="$pkgdir" prefix="/usr"
	install -m644 -Dt "${pkgdir}/usr/share/licenses/${pkgname}" LICENSE

    # modules-load.d
    install -m644 -Dt "${pkgdir}/usr/lib/modules-load.d" ${srcdir}/10-modprobe-ds.conf
}
